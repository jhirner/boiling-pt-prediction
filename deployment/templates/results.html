<html>
    <head>
        <title>
            Boiling Point Predictor
        </title>
        
        <link rel="stylesheet" href="{{ url_for('static', filename = 'gray_style.css') }}" type="text/css"></link>
	
    </head>
    <body>
        <div id = "main-container">
        <h1>Boiling Point Predictor | Results</h1><p>
                    
	<span style = "width: 100%; margin: auto;"">
                       
	<table class = "borderless-table">
		                                        
		<tr>
		    <td valign = "top" align = "right"><span style = "font-weight: bold">SMILES input:</span></td>
		    <td valign = "top">{{smiles_code}}</span></td> 
		</tr>                

		<tr>
		    <td valign = "top" align = "right"><span style = "font-weight: bold">Chemical structure:</span></td>
		    <td valign = "top"><img id="picture" src="data:image/gif;base64,{{ structure_img }}"></td> 
		</tr>
		
		<tr>
		    <td valign = "top" align = "right"><span style = "font-weight: bold">Predicted boiling point:</span></td>
		    <td valign = "top">{{bp_pred}} K ({{bp_pred-273}} &deg;C)</td> 
		</tr>
		
		{% if warning_msgs|length !=0 %}
		<tr>
		    <td valign = "top" align = "right"><span style = "font-weight: bold">Warnings:</span></td>
		    <td valign = "top">The following are known issues that may adversely impact the quality of this prediction. Depending on your input molecule, <em>the predicted values may be wildly inaccurate.</em><br>
		    	<ul>
		    	{% for warning in warning_msgs %}
		    		<li>{{warning[1]}}</li>
	    		{% endfor %}
	    	</td> 
		</tr>
		{% endif %}
		                                
	</table><p></span>
	<span><p></span>
	<span><p></span>
	<span><a href = "/">Go back and generate a new prediction.</a><p>
	<span><strong>About this prediction:</strong><br>
	<ul>
		<li>This predictive model has been validated using 1.3k molecules. <strong>In the validation set, 90% of predictied values fall within &plusmn; 9.7 &deg;C of the measured value,</strong> and 95% of predictions fall within &plusmn; 14.5 &deg;C.
		<li>Predictions are generated via an XGBoost regression machine learning model.
		<li>The model was trained using <i>6.1k molecules</i> containing C, H, O, and N using data from the 2015 edition of the <a href = "https://www.sciencedirect.com/book/9780128008348/the-yaws-handbook-of-physical-properties-for-hydrocarbons-and-chemicals">Yaws Handbook</a>.
		 
	</ul><p></span>



        
        <span style="font-size: small; font-style: italic">This page is best displayed on a tablet or larger device.<br>
                                                          &copy; 2021 Joshua Hirner.<p>
        <div style="font-size: small; font-style: italic"><a href = "https://github.com/jhirner/boiling-pt-prediction">Explore this project on GitHub</a></div>
        </div>
    </body>
</html>
